# 解决循环引用

## NuGet

- [Microsoft.AspNetCore.Mvc.NewtonsoftJson](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.NewtonsoftJson)

## 参考

- [关联数据和序列化 - EF Core | Microsoft Docs](https://docs.microsoft.com/zh-cn/ef/core/querying/related-data/serialization)

Program.cs

```csharp
// before
builder.Services.AddMvc().AddNewtonsoftJson(options =>
                options.SerializerSettings.ReferenceLoopHandling = Newtonsoft.Json.ReferenceLoopHandling.Ignore);

// now
builder.Services.AddControllers().AddJsonOptions(options =>
                options.JsonSerializerOptions.ReferenceHandler = ReferenceHandler.IgnoreCycles);
```
