# 确保上下文的数据库存在

[DatabaseFacade.EnsureCreated 方法 (Microsoft.EntityFrameworkCore.Infrastructure) | Microsoft Docs](https://docs.microsoft.com/zh-cn/dotnet/api/microsoft.entityframeworkcore.infrastructure.databasefacade.ensurecreated?view=efcore-6.0)

[练习 - 从 Blazor 组件访问数据 - Learn | Microsoft Docs](https://docs.microsoft.com/zh-cn/learn/modules/interact-with-data-blazor-web-apps/5-exercise-access-data-from-blazor-components)

```csharp
// Initialize the database
var scopeFactory = app.Services.GetRequiredService<IServiceScopeFactory>();
using (var scope = scopeFactory.CreateScope())
{
	var db = scope.ServiceProvider.GetRequiredService<PizzaStoreContext>();
	if (db.Database.EnsureCreated())
	{
		SeedData.Initialize(db);
	}
}
```
